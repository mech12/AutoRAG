# AutoRAG

ë°ì´í„°ì— ìµœì í™”ëœ RAG íŒŒì´í”„ë¼ì¸ì„ ìë™ìœ¼ë¡œ ì°¾ì•„ì£¼ëŠ” RAG AutoML ë„êµ¬ì…ë‹ˆë‹¤.

![Thumbnail](https://github.com/user-attachments/assets/6bab243d-a4b3-431a-8ac0-fe17336ab4de)

![PyPI - Downloads](https://img.shields.io/pypi/dm/AutoRAG)
[![LinkedIn](https://img.shields.io/badge/LinkedIn-Connect-blue?style=flat-square&logo=linkedin)](https://www.linkedin.com/company/104375108/admin/dashboard/)
![X (formerly Twitter) Follow](https://img.shields.io/twitter/follow/AutoRAG_HQ)
[![Hugging Face](https://img.shields.io/badge/Hugging%20Face-Follow-orange?style=flat-square&logo=huggingface)](https://huggingface.co/AutoRAG)

<a href="https://trendshift.io/repositories/7832" target="_blank"><img src="https://trendshift.io/api/badge/repositories/7832" alt="Marker-Inc-Korea%2FAutoRAG | Trendshift" style="width: 250px; height: 55px;" width="250" height="55"/></a>

ë‹¤ì–‘í•œ RAG íŒŒì´í”„ë¼ì¸ê³¼ ëª¨ë“ˆì´ ì¡´ì¬í•˜ì§€ë§Œ,
"ì—¬ëŸ¬ë¶„ì˜ ë°ì´í„°"ì™€ "ì—¬ëŸ¬ë¶„ì˜ ì‚¬ìš© ì‚¬ë¡€"ì— ì–´ë–¤ íŒŒì´í”„ë¼ì¸ì´ ì í•©í•œì§€ ì•Œ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
ëª¨ë“  RAG ëª¨ë“ˆì„ ì§ì ‘ ë§Œë“¤ê³  í‰ê°€í•˜ëŠ” ê²ƒì€ ë§¤ìš° ì‹œê°„ì´ ë§ì´ ê±¸ë¦¬ê³  ì–´ë µìŠµë‹ˆë‹¤.
í•˜ì§€ë§Œ ì´ ê³¼ì • ì—†ì´ëŠ” ì—¬ëŸ¬ë¶„ì˜ ì‚¬ìš© ì‚¬ë¡€ì— ê°€ì¥ ì í•©í•œ RAG íŒŒì´í”„ë¼ì¸ì„ ê²°ì½” ì•Œ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

AutoRAGëŠ” "ì—¬ëŸ¬ë¶„ì˜ ë°ì´í„°"ì— ìµœì í™”ëœ RAG íŒŒì´í”„ë¼ì¸ì„ ì°¾ì•„ì£¼ëŠ” ë„êµ¬ì…ë‹ˆë‹¤.
ì—¬ëŸ¬ë¶„ë§Œì˜ í‰ê°€ ë°ì´í„°ë¡œ ë‹¤ì–‘í•œ RAG ëª¨ë“ˆì„ ìë™ìœ¼ë¡œ í‰ê°€í•˜ê³ 
ì—¬ëŸ¬ë¶„ì˜ ì‚¬ìš© ì‚¬ë¡€ì— ê°€ì¥ ì í•©í•œ RAG íŒŒì´í”„ë¼ì¸ì„ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

AutoRAGëŠ” ë‹¤ì–‘í•œ RAG ëª¨ë“ˆ ì¡°í•©ì„ ê°„ë‹¨í•˜ê²Œ í‰ê°€í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì œê³µí•©ë‹ˆë‹¤.
ì§€ê¸ˆ ë°”ë¡œ ì‹œë„í•´ë³´ê³  ì—¬ëŸ¬ë¶„ì˜ ì‚¬ìš© ì‚¬ë¡€ì— ê°€ì¥ ì í•©í•œ RAG íŒŒì´í”„ë¼ì¸ì„ ì°¾ì•„ë³´ì„¸ìš”.

ğŸ“– [ë¬¸ì„œ](https://marker-inc-korea.github.io/AutoRAG/)ë¥¼ ì‚´í´ë³´ì„¸ìš”!!

---

## YouTube íŠœí† ë¦¬ì–¼

https://github.com/Marker-Inc-Korea/AutoRAG/assets/96727832/c0d23896-40c0-479f-a17b-aa2ec3183a26

_ê¸°ë³¸ì ìœ¼ë¡œ ìŒì†Œê±° ìƒíƒœì…ë‹ˆë‹¤. ìŒì„± í•´ì„¤ì„ ë“¤ìœ¼ë ¤ë©´ ì‚¬ìš´ë“œë¥¼ ì¼œì„¸ìš”_

[YouTube](https://youtu.be/2ojK8xjyXAU?feature=shared)ì—ì„œë„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤

## HuggingFace Spaceì—ì„œ AutoRAG ì‚¬ìš©í•˜ê¸° ğŸš€

- [ğŸ’¬ Naive RAG ì±—ë´‡](https://huggingface.co/spaces/AutoRAG/Naive-RAG-chatbot)
- [âœï¸ AutoRAG ë°ì´í„° ìƒì„±](https://huggingface.co/spaces/AutoRAG/AutoRAG-data-creation)
- [ğŸš€ AutoRAG RAG íŒŒì´í”„ë¼ì¸ ìµœì í™”](https://huggingface.co/spaces/AutoRAG/RAG-Pipeline-Optimization)

## Colab íŠœí† ë¦¬ì–¼

- [1ë‹¨ê³„: AutoRAG ê¸°ì´ˆ | RAG íŒŒì´í”„ë¼ì¸ ìµœì í™”í•˜ê¸°](https://colab.research.google.com/drive/19OEQXO_pHN6gnn2WdfPd4hjnS-4GurVd?usp=sharing)
- [2ë‹¨ê³„: ë°ì´í„° ìƒì„± | RAG ìµœì í™”ë¥¼ ìœ„í•œ ë‚˜ë§Œì˜ ë°ì´í„° ë§Œë“¤ê¸°](https://colab.research.google.com/drive/1BOdzMndYgMY_iqhwKcCCS7ezHbZ4Oz5X?usp=sharing)
- [3ë‹¨ê³„: ì»¤ìŠ¤í…€ LLM ë° ì„ë² ë”© ëª¨ë¸ ì‚¬ìš© | ì»¤ìŠ¤í…€ ëª¨ë¸ ì‚¬ìš©í•˜ê¸°](https://colab.research.google.com/drive/12VpWcSTSOsLSyW0BKb-kPoEzK22ACxvS?usp=sharing)

# ëª©ì°¨

- [ë¹ ë¥¸ ì„¤ì¹˜](#ë¹ ë¥¸-ì„¤ì¹˜)
- [ë°ì´í„° ìƒì„±](#ë°ì´í„°-ìƒì„±)
    - [íŒŒì‹±](#1-íŒŒì‹±)
    - [ì²­í‚¹](#2-ì²­í‚¹)
    - [QA ìƒì„±](#3-qa-ìƒì„±)
- [RAG ìµœì í™”](#rag-ìµœì í™”)
    - [AutoRAGëŠ” RAG íŒŒì´í”„ë¼ì¸ì„ ì–´ë–»ê²Œ ìµœì í™”í•˜ë‚˜ìš”?](#autoragëŠ”-rag-íŒŒì´í”„ë¼ì¸ì„-ì–´ë–»ê²Œ-ìµœì í™”í•˜ë‚˜ìš”)
    - [ë©”íŠ¸ë¦­](#ë©”íŠ¸ë¦­)
    - [ë¹ ë¥¸ ì‹œì‘](#ë¹ ë¥¸-ì‹œì‘-1)
        - [YAML íŒŒì¼ ì„¤ì •](#1-yaml-íŒŒì¼-ì„¤ì •)
        - [AutoRAG ì‹¤í–‰](#2-autorag-ì‹¤í–‰)
        - [ëŒ€ì‹œë³´ë“œ ì‹¤í–‰](#3-ëŒ€ì‹œë³´ë“œ-ì‹¤í–‰)
        - [ìµœì ì˜ RAG íŒŒì´í”„ë¼ì¸ ë°°í¬](#4-ìµœì ì˜-rag-íŒŒì´í”„ë¼ì¸-ë°°í¬)
- [ìì£¼ ë¬»ëŠ” ì§ˆë¬¸](#-ìì£¼-ë¬»ëŠ”-ì§ˆë¬¸)

# ë¹ ë¥¸ ì„¤ì¹˜

AutoRAGëŠ” Python ë²„ì „ 3.10 ì´ìƒì„ ê¶Œì¥í•©ë‹ˆë‹¤.

```bash
pip install AutoRAG
```

ë¡œì»¬ ëª¨ë¸ì„ ì‚¬ìš©í•˜ë ¤ë©´ GPU ë²„ì „ì„ ì„¤ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤.

```bash
pip install "AutoRAG[gpu]"
```

ë˜ëŠ” íŒŒì‹± ê¸°ëŠ¥ì„ ìœ„í•´ íŒŒì‹± ë²„ì „ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```bash
pip install "AutoRAG[gpu,parse]"
```

# ë°ì´í„° ìƒì„±

<a href="https://huggingface.co/spaces/AutoRAG/AutoRAG-data-creation">
<img src="https://github.com/user-attachments/assets/8c6e4b02-3938-4560-b817-c95764965b50" alt="Hugging Face Sticker" style="width:200px;height:auto;">
</a>

![Image](https://github.com/user-attachments/assets/146d005d-dcb9-4460-a8b3-25126e5e3dc2)

![image](https://github.com/user-attachments/assets/6079f696-207c-4221-8d28-5561a203dfe2)

RAG ìµœì í™”ì—ëŠ” ë‘ ê°€ì§€ ìœ í˜•ì˜ ë°ì´í„°ê°€ í•„ìš”í•©ë‹ˆë‹¤: QA ë°ì´í„°ì…‹ê³¼ ì½”í¼ìŠ¤ ë°ì´í„°ì…‹.

1. **QA** ë°ì´í„°ì…‹ íŒŒì¼ (qa.parquet)
2. **ì½”í¼ìŠ¤** ë°ì´í„°ì…‹ íŒŒì¼ (corpus.parquet)

**QA** ë°ì´í„°ì…‹ì€ ì •í™•í•˜ê³  ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” í‰ê°€ ë° ìµœì í™”ì— ì¤‘ìš”í•©ë‹ˆë‹¤.

**ì½”í¼ìŠ¤** ë°ì´í„°ì…‹ì€ RAGì˜ ì„±ëŠ¥ì— ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤.
RAGëŠ” ì½”í¼ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¬¸ì„œë¥¼ ê²€ìƒ‰í•˜ê³  ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë‹µë³€ì„ ìƒì„±í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

### ğŸ“Œ ì§€ì›í•˜ëŠ” ë°ì´í„° ìƒì„± ëª¨ë“ˆ

![Image](https://github.com/user-attachments/assets/c6f15fab-6c69-4627-9685-6c218b66f5d6)

- [ì§€ì›í•˜ëŠ” íŒŒì‹± ëª¨ë“ˆ ëª©ë¡](https://edai.notion.site/Supporting-Parsing-Modules-e0b7579c7c0e4fb2963e408eeccddd75?pvs=4)
- [ì§€ì›í•˜ëŠ” ì²­í‚¹ ëª¨ë“ˆ ëª©ë¡](https://edai.notion.site/Supporting-Chunk-Modules-8db803dba2ec4cd0a8789659106e86a3?pvs=4)

## ë¹ ë¥¸ ì‹œì‘

### 1. íŒŒì‹±

#### YAML íŒŒì¼ ì„¤ì •

```yaml
modules:
  - module_type: langchain_parse
    parse_method: pdfminer
```

ì—¬ëŸ¬ ê°œì˜ íŒŒì‹± ëª¨ë“ˆì„ ë™ì‹œì— ì‚¬ìš©í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.
í•˜ì§€ë§Œ ì´ ê²½ìš° ê° íŒŒì‹± ê²°ê³¼ì— ëŒ€í•´ ìƒˆë¡œìš´ í”„ë¡œì„¸ìŠ¤ë¥¼ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤.

#### íŒŒì‹± ì‹œì‘

ëª‡ ì¤„ì˜ ì½”ë“œë§Œìœ¼ë¡œ ì›ì‹œ ë¬¸ì„œë¥¼ íŒŒì‹±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```python
from autorag.parser import Parser

parser = Parser(data_path_glob="your/data/path/*")
parser.start_parsing("your/path/to/parse_config.yaml")
```

### 2. ì²­í‚¹

#### YAML íŒŒì¼ ì„¤ì •

```yaml
modules:
  - module_type: llama_index_chunk
    chunk_method: Token
    chunk_size: 1024
    chunk_overlap: 24
    add_file_name: en
```

ì—¬ëŸ¬ ê°œì˜ ì²­í¬ ëª¨ë“ˆì„ ë™ì‹œì— ì‚¬ìš©í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.
ì´ ê²½ìš° í•˜ë‚˜ì˜ ì½”í¼ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ QAë¥¼ ìƒì„±í•œ ë‹¤ìŒ ë‚˜ë¨¸ì§€ ì½”í¼ìŠ¤ë¥¼ QA ë°ì´í„°ì— ë§¤í•‘í•´ì•¼ í•©ë‹ˆë‹¤.
ì²­í¬ ë°©ë²•ì´ ë‹¤ë¥´ë©´ retrieval_gtê°€ ë‹¬ë¼ì§€ë¯€ë¡œ QA ë°ì´í„°ì…‹ì— ë‹¤ì‹œ ë§¤í•‘í•´ì•¼ í•©ë‹ˆë‹¤.

#### ì²­í‚¹ ì‹œì‘

ëª‡ ì¤„ì˜ ì½”ë“œë§Œìœ¼ë¡œ íŒŒì‹±ëœ ê²°ê³¼ë¥¼ ì²­í‚¹í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```python
from autorag.chunker import Chunker

chunker = Chunker.from_parquet(parsed_data_path="your/parsed/data/path")
chunker.start_chunking("your/path/to/chunk_config.yaml")
```

### 3. QA ìƒì„±

ëª‡ ì¤„ì˜ ì½”ë“œë§Œìœ¼ë¡œ QA ë°ì´í„°ì…‹ì„ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```python
import pandas as pd
from llama_index.llms.openai import OpenAI

from autorag.data.qa.filter.dontknow import dontknow_filter_rule_based
from autorag.data.qa.generation_gt.llama_index_gen_gt import (
	make_basic_gen_gt,
	make_concise_gen_gt,
)
from autorag.data.qa.schema import Raw, Corpus
from autorag.data.qa.query.llama_gen_query import factoid_query_gen
from autorag.data.qa.sample import random_single_hop

llm = OpenAI()
raw_df = pd.read_parquet("your/path/to/parsed.parquet")
raw_instance = Raw(raw_df)

corpus_df = pd.read_parquet("your/path/to/corpus.parquet")
corpus_instance = Corpus(corpus_df, raw_instance)

initial_qa = (
	corpus_instance.sample(random_single_hop, n=3)
	.map(
		lambda df: df.reset_index(drop=True),
	)
	.make_retrieval_gt_contents()
	.batch_apply(
		factoid_query_gen,  # ì¿¼ë¦¬ ìƒì„±
		llm=llm,
	)
	.batch_apply(
		make_basic_gen_gt,  # ë‹µë³€ ìƒì„± (ê¸°ë³¸)
		llm=llm,
	)
	.batch_apply(
		make_concise_gen_gt,  # ë‹µë³€ ìƒì„± (ê°„ê²°)
		llm=llm,
	)
	.filter(
		dontknow_filter_rule_based,  # "ëª¨ë¥´ê² ìŠµë‹ˆë‹¤" í•„í„°ë§
		lang="en",
	)
)

initial_qa.to_parquet('./qa.parquet', './corpus.parquet')
```

# RAG ìµœì í™”

<a href="https://huggingface.co/spaces/AutoRAG/RAG-Pipeline-Optimization">
<img src="https://github.com/user-attachments/assets/8c6e4b02-3938-4560-b817-c95764965b50" alt="Hugging Face Sticker" style="width:200px;height:auto;">
</a>

![Image](https://github.com/user-attachments/assets/b814928d-54a4-4b96-af34-adba0ac6803b)

![rag](https://github.com/user-attachments/assets/214d842e-fc67-4113-9c24-c94158b00c23)

## AutoRAGëŠ” RAG íŒŒì´í”„ë¼ì¸ì„ ì–´ë–»ê²Œ ìµœì í™”í•˜ë‚˜ìš”?

ë‹¤ìŒì€ ë…¸ë“œë§Œ í‘œì‹œí•œ AutoRAG RAG êµ¬ì¡°ì…ë‹ˆë‹¤.

![Image](https://github.com/user-attachments/assets/cbc60938-e211-4fbf-be74-31bd9a997581)

ë‹¤ìŒì€ ëª¨ë“  ë…¸ë“œì™€ ëª¨ë“ˆì„ ë³´ì—¬ì£¼ëŠ” ì´ë¯¸ì§€ì…ë‹ˆë‹¤.

![Image](https://github.com/user-attachments/assets/9489e803-f47a-49d4-97ec-0dd9b270394f)

![rag_opt_gif](https://github.com/user-attachments/assets/55bd09cd-8420-4f6d-bc7d-0a66af288317)

### ğŸ“Œ ì§€ì›í•˜ëŠ” RAG ìµœì í™” ë…¸ë“œ ë° ëª¨ë“ˆ

- [ì§€ì›í•˜ëŠ” RAG ëª¨ë“ˆ ëª©ë¡](https://edai.notion.site/Supporting-Nodes-modules-0ebc7810649f4e41aead472a92976be4?pvs=4)

## ë©”íŠ¸ë¦­

AutoRAGì—ì„œ ê° ë…¸ë“œê°€ ì‚¬ìš©í•˜ëŠ” ë©”íŠ¸ë¦­ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.

![Image](https://github.com/user-attachments/assets/5b342f68-d25c-4cba-aa85-1e257801afea)

![Image](https://github.com/user-attachments/assets/393d3ad6-1bde-4e75-b314-5c150eadaeee)

- [ì§€ì›í•˜ëŠ” ë©”íŠ¸ë¦­ ëª©ë¡](https://edai.notion.site/Supporting-metrics-867d71caefd7401c9264dd91ba406043?pvs=4)

AutoRAGê°€ ì§€ì›í•˜ëŠ” ë©”íŠ¸ë¦­ì— ëŒ€í•œ ìì„¸í•œ ì •ë³´ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

- [ê²€ìƒ‰ ë©”íŠ¸ë¦­](https://edai.notion.site/Retrieval-Metrics-dde3d9fa1d9547cdb8b31b94060d21e7?pvs=4)
- [ê²€ìƒ‰ í† í° ë©”íŠ¸ë¦­](https://edai.notion.site/Retrieval-Token-Metrics-c3e2d83358e04510a34b80429ebb543f?pvs=4)
- [ìƒì„± ë©”íŠ¸ë¦­](https://github.com/user-attachments/assets/7d4a3069-9186-4854-885d-ca0f7bcc17e8)

## ë¹ ë¥¸ ì‹œì‘

### 1. YAML íŒŒì¼ ì„¤ì •

ë¨¼ì € RAG ìµœì í™”ë¥¼ ìœ„í•œ ì„¤ì • YAML íŒŒì¼ì„ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤.

ì´ˆë³´ìì—ê²ŒëŠ” ë¯¸ë¦¬ ë§Œë“¤ì–´ì§„ ì„¤ì • YAML íŒŒì¼ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ê°•ë ¥íˆ ê¶Œì¥í•©ë‹ˆë‹¤.

- [ìƒ˜í”Œ YAML ê°€ì ¸ì˜¤ê¸°](sample_config/rag)
    - [ìƒ˜í”Œ YAML ê°€ì´ë“œ](https://marker-inc-korea.github.io/AutoRAG/optimization/sample_config.html)
- [ì»¤ìŠ¤í…€ YAML ë§Œë“¤ê¸° ê°€ì´ë“œ](https://marker-inc-korea.github.io/AutoRAG/optimization/custom_config.html)

ë‹¤ìŒì€ 3ê°œì˜ ê²€ìƒ‰ ë…¸ë“œ, `prompt_maker`, `generator` ë…¸ë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ì„¤ì • YAML íŒŒì¼ì˜ ì˜ˆì‹œì…ë‹ˆë‹¤.

```yaml
node_lines:
  - node_line_name: retrieve_node_line
    nodes:
      - node_type: lexical_retrieval
        strategy:
          metrics: [ retrieval_f1, retrieval_recall, retrieval_ndcg, retrieval_mrr ]
        top_k: 3
        modules:
          - module_type: bm25
      - node_type: semantic_retrieval
        strategy:
          metrics: [ retrieval_f1, retrieval_recall, retrieval_ndcg, retrieval_mrr ]
        top_k: 3
        modules:
          - module_type: vectordb
            vectordb: default
      - node_type: hybrid_retrieval
        strategy:
          metrics: [ retrieval_f1, retrieval_recall, retrieval_ndcg, retrieval_mrr ]
        top_k: 3
        modules:
          - module_type: hybrid_rrf
            weight_range: (4,80)
  - node_line_name: post_retrieve_node_line
    nodes:
      - node_type: prompt_maker  # í”„ë¡¬í”„íŠ¸ ë©”ì´ì»¤ ë…¸ë“œ ì„¤ì •
        strategy:
          metrics: # ìƒì„± ë©”íŠ¸ë¦­ ì„¤ì •
            - metric_name: meteor
            - metric_name: rouge
            - metric_name: sem_score
              embedding_model: openai
        modules:
          - module_type: fstring
            prompt: "Read the passages and answer the given question. \n Question: {query} \n Passage: {retrieved_contents} \n Answer : "
      - node_type: generator  # ìƒì„±ê¸° ë…¸ë“œ ì„¤ì •
        strategy:
          metrics: # ìƒì„± ë©”íŠ¸ë¦­ ì„¤ì •
            - metric_name: meteor
            - metric_name: rouge
            - metric_name: sem_score
              embedding_model: openai
        modules:
          - module_type: openai_llm
            llm: gpt-4o-mini
            batch: 16
```

### 2. AutoRAG ì‹¤í–‰

ëª‡ ì¤„ì˜ ì½”ë“œë§Œìœ¼ë¡œ RAG íŒŒì´í”„ë¼ì¸ì„ í‰ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```python
from autorag.evaluator import Evaluator

evaluator = Evaluator(qa_data_path='your/path/to/qa.parquet', corpus_data_path='your/path/to/corpus.parquet')
evaluator.start_trial('your/path/to/config.yaml')
```

ë˜ëŠ” ëª…ë ¹ì¤„ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

```bash
autorag evaluate --config your/path/to/default_config.yaml --qa_data_path your/path/to/qa.parquet --corpus_data_path your/path/to/corpus.parquet
```

ì™„ë£Œë˜ë©´ í˜„ì¬ ë””ë ‰í† ë¦¬ì— ì—¬ëŸ¬ íŒŒì¼ê³¼ í´ë”ê°€ ìƒì„±ëœ ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ìˆ«ìë¡œ ì´ë¦„ì´ ì§€ì •ëœ trial í´ë”(ì˜ˆ: 0)ì—ì„œ
í‰ê°€ ê²°ê³¼ì™€ ë°ì´í„°ì— ê°€ì¥ ì í•©í•œ RAG íŒŒì´í”„ë¼ì¸ì„ ìš”ì•½í•œ `summary.csv` íŒŒì¼ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë” ìì„¸í•œ ë‚´ìš©ì€ [ì—¬ê¸°](https://marker-inc-korea.github.io/AutoRAG/optimization/folder_structure.html)ì—ì„œ í´ë” êµ¬ì¡°ê°€ ì–´ë–»ê²Œ ìƒê²¼ëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### 3. ëŒ€ì‹œë³´ë“œ ì‹¤í–‰

ëŒ€ì‹œë³´ë“œë¥¼ ì‹¤í–‰í•˜ì—¬ ê²°ê³¼ë¥¼ ì‰½ê²Œ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```bash
autorag dashboard --trial_dir /your/path/to/trial_dir
```

#### ìƒ˜í”Œ ëŒ€ì‹œë³´ë“œ

![dashboard](https://github.com/Marker-Inc-Korea/AutoRAG/assets/96727832/3798827d-31d7-4c4e-a9b1-54340b964e53)

### 4. ìµœì ì˜ RAG íŒŒì´í”„ë¼ì¸ ë°°í¬

### 4-1. ì½”ë“œë¡œ ì‹¤í–‰

trial í´ë”ì—ì„œ ë°”ë¡œ ìµœì ì˜ RAG íŒŒì´í”„ë¼ì¸ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
trial í´ë”ëŠ” ëŒ€ì‹œë³´ë“œ ì‹¤í–‰ì— ì‚¬ìš©ëœ ë””ë ‰í† ë¦¬ì…ë‹ˆë‹¤. (ì˜ˆ: 0, 1, 2, ...)

```python
from autorag.deploy import Runner

runner = Runner.from_trial_folder('/your/path/to/trial_dir')
runner.run('your question')
```

### 4-2. API ì„œë²„ë¡œ ì‹¤í–‰

ì´ íŒŒì´í”„ë¼ì¸ì„ API ì„œë²„ë¡œ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

API ì—”ë“œí¬ì¸íŠ¸ëŠ” [ì—¬ê¸°](./docs/source/deploy/api_endpoint.md)ì—ì„œ í™•ì¸í•˜ì„¸ìš”.

```python
import nest_asyncio
from autorag.deploy import ApiRunner

nest_asyncio.apply()

runner = ApiRunner.from_trial_folder('/your/path/to/trial_dir')
runner.run_api_server()
```

```bash
autorag run_api --trial_dir your/path/to/trial_dir --host 0.0.0.0 --port 8000
```

CLI ëª…ë ¹ì€ ì¶”ì¶œëœ ì„¤ì • YAML íŒŒì¼ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. ë” ìì„¸íˆ ì•Œê³  ì‹¶ìœ¼ì‹œë©´
[ì—¬ê¸°](https://marker-inc-korea.github.io/AutoRAG/tutorial.html#extract-pipeline-and-evaluate-test-dataset)ë¥¼ í™•ì¸í•˜ì„¸ìš”.

### 4-3. ì›¹ ì¸í„°í˜ì´ìŠ¤ë¡œ ì‹¤í–‰

ì´ íŒŒì´í”„ë¼ì¸ì„ ì›¹ ì¸í„°í˜ì´ìŠ¤ë¡œ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì›¹ ì¸í„°í˜ì´ìŠ¤ëŠ” [ì—¬ê¸°](deploy/web.md)ì—ì„œ í™•ì¸í•˜ì„¸ìš”.

```bash
autorag run_web --trial_path your/path/to/trial_path
```

#### ìƒ˜í”Œ ì›¹ ì¸í„°í˜ì´ìŠ¤

<img width="1491" alt="web_interface" src="https://github.com/Marker-Inc-Korea/AutoRAG/assets/96727832/f6b00353-f6bb-4d8f-8740-1c264c0acbb8">

## â˜ï¸ ìì£¼ ë¬»ëŠ” ì§ˆë¬¸

ğŸ’» [í•˜ë“œì›¨ì–´ ì‚¬ì–‘](https://edai.notion.site/Hardware-specs-28cefcf2a26246ffadc91e2f3dc3d61c?pvs=4)

â­ [AutoRAG ì‹¤í–‰í•˜ê¸°](https://edai.notion.site/About-running-AutoRAG-44a8058307af42068fc218a073ee480b?pvs=4)

ğŸ¯ [íŒ/íŠ¸ë¦­](https://edai.notion.site/Tips-Tricks-10708a0e36ff461cb8a5d4fb3279ff15?pvs=4)

â˜ï¸ [ë¬¸ì œ í•´ê²°](https://medium.com/@autorag/autorag-troubleshooting-5cf872b100e3)

## ì¶”ì²œí•´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤

### ê¸°ì—…

<a href="https://www.linkedin.com/posts/llamaindex_rag-pipelines-have-a-lot-of-hyperparameters-activity-7182053546593247232-HFMN/">
<img src="https://github.com/user-attachments/assets/b8fdaaf6-543a-4019-8dbe-44191a5269b9" alt="llama index" style="width:200px;height:auto;">
</a>

### ê°œì¸

- [Shubham Saboo](https://www.linkedin.com/posts/shubhamsaboo_just-found-the-solution-to-the-biggest-rag-activity-7255404464054939648-ISQ8/)
- [Kalyan KS](https://www.linkedin.com/posts/kalyanksnlp_rag-autorag-llms-activity-7258677155574788097-NgS0/)

---

# âœ¨ ê¸°ì—¬ì âœ¨

ë©‹ì§„ ë¶„ë“¤ê»˜ ê°ì‚¬ë“œë¦½ë‹ˆë‹¤:

<a href="https://github.com/Marker-Inc-Korea/AutoRAG/graphs/contributors">
  <img src="https://contrib.rocks/image?repo=Marker-Inc-Korea/AutoRAG" />
</a>

# ê¸°ì—¬

ì €í¬ëŠ” AutoRAGë¥¼ ì˜¤í”ˆì†ŒìŠ¤ë¡œ ê°œë°œí•˜ê³  ìˆìŠµë‹ˆë‹¤.

ë”°ë¼ì„œ ì´ í”„ë¡œì íŠ¸ëŠ” ê¸°ì—¬ì™€ ì œì•ˆì„ í™˜ì˜í•©ë‹ˆë‹¤. ì´ í”„ë¡œì íŠ¸ì— ììœ ë¡­ê²Œ ê¸°ì—¬í•´ì£¼ì„¸ìš”.

ë˜í•œ [ì—¬ê¸°](https://marker-inc-korea.github.io/AutoRAG/index.html)ì—ì„œ ìì„¸í•œ ë¬¸ì„œë¥¼ í™•ì¸í•˜ì„¸ìš”.

## ì¸ìš©

```bibtex
@misc{kim2024autoragautomatedframeworkoptimization,
      title={AutoRAG: Automated Framework for optimization of Retrieval Augmented Generation Pipeline},
      author={Dongkyu Kim and Byoungwook Kim and Donggeon Han and MatouÅ¡ Eibich},
      year={2024},
      eprint={2410.20878},
      archivePrefix={arXiv},
      primaryClass={cs.CL},
      url={https://arxiv.org/abs/2410.20878},
}
```
